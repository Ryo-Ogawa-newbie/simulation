<!DOCTYPE html>
<html>
<head>
  <title>Equation Solver</title>
</head>
<body>
  <h3>方程式</h3>
  <p id="equation"></p>
  
  <input type="number" id="inputA" placeholder="a">
  <input type="number" id="inputB" placeholder="b">
  <input type="number" id="inputC" placeholder="c">
  <button onclick="updateEquation()">更新</button>
  
  <br>
  
  <button onclick="showRangeInput()">二分法</button>
  <button onclick="showInitialInput()">ニュートン法</button>
  
  <div id="methodInput"></div>
  
  <br>
  
  <p>試行回数</p>
  <input type="number" id="inputIterations" placeholder="試行回数">
  
  <br>
  
  <button onclick="startCalculation()">試行開始</button>
  <button onclick="resetInputs()">リセット</button>
  
  <script>
    var equation = "ax^2 + bx + c = 0";
    var rangeInputs = [];
    var initialInput = "";
    var currentMethod = "";

    function updateEquation() {
      var a = document.getElementById("inputA").value;
      var b = document.getElementById("inputB").value;
      var c = document.getElementById("inputC").value;
      
      equation = `${a}x^2 + ${b}x + ${c} = 0`;
      document.getElementById("equation").textContent = equation;
    }

    function showRangeInput() {
      currentMethod = "binary";
      initialInput = "";
      
      var methodInput = document.getElementById("methodInput");
      methodInput.innerHTML = "";

      var header = document.createElement("h3");
      header.textContent = "解の範囲";
      
      var inputLabel = document.createElement("label");
      inputLabel.textContent = "数字を自由入力 [a, b]";
      
      var input4 = document.createElement("input");
      input4.placeholder = "a";
      
      var input5 = document.createElement("input");
      input5.placeholder = "b";
      
      rangeInputs = [input4, input5];
      
      methodInput.appendChild(header);
      methodInput.appendChild(inputLabel);
      methodInput.appendChild(input4);
      methodInput.appendChild(input5);
    }

    function showInitialInput() {
      currentMethod = "newton";
      rangeInputs = [];
      
      var methodInput = document.getElementById("methodInput");
      methodInput.innerHTML = "";

      var header = document.createElement("h3");
      header.textContent = "初期推定値";
      
      var inputLabel = document.createElement("label");
      inputLabel.textContent = "数字を自由入力";
      
      var input6 = document.createElement("input");
      input6.placeholder = "初期推定値";
      
      initialInput = input6;
      
      methodInput.appendChild(header);
      methodInput.appendChild(inputLabel);
      methodInput.appendChild(input6);
    }

    function startCalculation() {
      var iterations = document.getElementById("inputIterations").value;
      
      if (currentMethod === "binary" && rangeInputs.length === 2) {
        var lowerBound = rangeInputs[0].value;
        var upperBound = rangeInputs[1].value;
        // 二分法の計算と結果表示
        // 例: calculateBinary(lowerBound, upperBound, iterations);
      } else if (currentMethod === "newton" && initialInput !== "") {
        var initialValue = initialInput.value;
        // ニュートン法の計算と結果表示
        // 例: calculateNewton(initialValue, iterations);
      } else {
        alert("計算に必要な情報が不足しています。");
      }
    }

    function resetInputs() {
      equation = "ax^2 + bx + c = 0";
      rangeInputs = [];
      initialInput = "";
      currentMethod = "";
      
      document.getElementById("equation").textContent = equation;
      document.getElementById("inputA").value = "";
      document.getElementById("inputB").value = "";
      document.getElementById("inputC").value = "";
      document.getElementById("inputIterations").value = "";
      document.getElementById("methodInput").innerHTML = "";
    }
  </script>
</body>
</html>

